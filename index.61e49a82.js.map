{"mappings":"AAAA,MAGMA,EAAgB,CAAEC,QAAS,CAAE,YAFnB,0EAUHC,EAAkBC,eAAgBC,GAE7C,aADuBC,MAAM,gEAAgBD,IAAWJ,IACxCM,M,ECZZC,EAAWC,SAASC,cAAc,uBAClCC,EAAUF,SAASC,cAAc,WACjCE,EAASH,SAASC,cAAc,YAChCG,EAAUJ,SAASC,cAAc,gBAgBvC,SAASI,IACPF,EAAOG,UAAUC,IAAI,S,CAGvB,SAASC,IACPN,EAAQI,UAAUG,OAAO,S,CAoB3B,SAASC,EAAcZ,GACrB,MAAMa,KAAEA,EAAIC,YAAEA,EAAWC,YAAEA,GAAgBf,EAAK,GAAGgB,OAAO,GAMpDC,EAAS,SAJA,sBAAsBJ,2CACvB,aAFFb,EAAK,GAAGkB,uBAE8BL,iEAC1B,mBAAmBC,oBACnB,uCAAuCC,oCAU/DT,EAAQa,UAAYF,C,CAvDtBhB,EAASmB,iBAAiB,SA2B1B,SAAyBC,GACvB,MAAMC,EAAcD,EAAME,cAAcC,MALxCnB,EAAOG,UAAUG,OAAO,UACxBP,EAAQI,UAAUC,IAAI,UAMtB,IACEb,EAAgB0B,GACbG,KAAKb,GACLc,MAAMhB,E,CACV,QACCH,G,KDpCuBV,iBACzB8B,QAAQC,KAAK,eAEb,aADuB7B,MAAM,wCACbC,M,CCAlB,GACGyB,MAIH,SAAsBzB,GACpB,MAAM6B,EAAgB7B,EAAK8B,KAAIC,GAAS,kBAAkBA,EAAMC,OAAOD,EAAMlB,kBAAiBoB,KAAK,IACnGhC,EAASkB,UAAYU,EACrB5B,EAASuB,MAAQ,GACjBvB,EAASO,UAAUG,OAAO,S,IAPzBe,MAAMhB,GACNwB,QAAQ3B","sources":["src/js/cat-api.js","src/js/index.js"],"sourcesContent":["const BASE_URL = 'https://api.thecatapi.com/v1';\nconst API_KEY = 'live_tzTsyw7krgEZLBeoJMmi7g8WFICFdg0xoTjCAS3CjqcXEkmhgwSfsWDDoUqLh3OS';\nconst SEARCH_CAT = `${BASE_URL}/images/search?limit=1&breed_ids=`;\nconst searchOptions = { headers: { 'x-api-key': API_KEY },};\n\nexport const fetchBreeds = async function () {\n  console.info('start fetch');\n  const response = await fetch(`${BASE_URL}/breeds`);\n  return response.json();\n};\n\nexport const fetchCatByBreed = async function (breedId) {\n  const response = await fetch(`${SEARCH_CAT}${breedId}`, searchOptions);\n  return response.json();\n};\n","import { fetchBreeds, fetchCatByBreed } from \"./cat-api\";\nconst selectEl = document.querySelector('select.breed-select');\nconst errorEl = document.querySelector('p.error');\nconst loadEl = document.querySelector('p.loader');\nconst catInfo = document.querySelector('div.cat-info');\n\nselectEl.addEventListener('input', onSelectorInput);\n\nfetchBreeds()\n  .then(renderSelect)\n  .catch(showError)\n  .finally(hideLoad);\n\nfunction renderSelect(json) {\n  const optionsMarkup = json.map(breed => `<option value=\"${breed.id}\">${breed.name}</option>`).join('');\n  selectEl.innerHTML = optionsMarkup;\n  selectEl.value = '';\n  selectEl.classList.remove('hidden');\n}\n\nfunction hideLoad() {\n  loadEl.classList.add('hidden');\n}\n\nfunction showError() {\n  errorEl.classList.remove('hidden');\n}\n\nfunction showLoad() {\n  loadEl.classList.remove('hidden');\n  errorEl.classList.add('hidden');\n}\n\nfunction onSelectorInput(event) {\n  const chosenBreed = event.currentTarget.value;\n  showLoad();\n  try {\n    fetchCatByBreed(chosenBreed)\n      .then(renderCatCard)\n      .catch(showError);\n  } finally {\n    hideLoad();\n  }\n}\n\nfunction renderCatCard(json) {\n  const { name, description, temperament } = json[0].breeds[0];\n  const url = json[0].url;\n  const header = `<h2 class=\"header\">${name}</h2>`;\n  const image = `<img src=\"${url}\" alt=\"Cat breed ${name}\" class=\"image\">`;\n  const descriptionText = `<p class=\"text\">${description}</p>`;\n  const temperamentText = `<p class=\"text\"><b>Temperament:</b> ${temperament}</p>`;\n  const markup = `\n    ${header}\n    <div class=\"card\">\n      ${image}\n      <div class=\"description\">\n        ${descriptionText}\n        ${temperamentText}\n      </div>\n    </div>`;\n  catInfo.innerHTML = markup;\n}\n\n"],"names":["$c4ebbd28ee7007ee$var$searchOptions","headers","$c4ebbd28ee7007ee$export$57b7d3a597416aa2","async","breedId","fetch","json","$85a5f86b715fe7db$var$selectEl","document","querySelector","$85a5f86b715fe7db$var$errorEl","$85a5f86b715fe7db$var$loadEl","$85a5f86b715fe7db$var$catInfo","$85a5f86b715fe7db$var$hideLoad","classList","add","$85a5f86b715fe7db$var$showError","remove","$85a5f86b715fe7db$var$renderCatCard","name","description","temperament","breeds","markup","url","innerHTML","addEventListener","event","chosenBreed","currentTarget","value","then","catch","console","info","optionsMarkup","map","breed","id","join","finally"],"version":3,"file":"index.61e49a82.js.map"}