{"mappings":"AAAA,MAGMA,EAAgB,CAAEC,QAAS,CAAE,YAFnB,0ECAVC,EAAWC,SAASC,cAAc,uBAClCC,EAAUF,SAASC,cAAc,WACjCE,EAASH,SAASC,cAAc,YAChCG,EAAUJ,SAASC,cAAc,gBAgBvC,SAASI,IACPF,EAAOG,UAAUC,IAAI,S,CAGvB,SAASC,IACPN,EAAQI,UAAUG,OAAO,S,CAiB3B,SAASC,EAAcC,GACrB,MAAMC,EAAYD,EAAK,GAAGE,OAAO,GAC3BC,EACGH,EAAK,GAAGI,IADXD,EAEGF,EAAUI,KAGbC,EACN,0BACqBL,EAAUI,gDAEnBF,qBAA2BA,qEAErBF,EAAUM,0DACUN,EAAUO,0CAIhDf,EAAQgB,UAAYH,C,CAtDtBlB,EAASsB,iBAAiB,SA2B1B,SAAyBC,GAJvBnB,EAAOG,UAAUG,OAAO,UACxBP,EAAQI,UAAUC,IAAI,UAKtB,MAAMgB,EAAcD,EAAME,cAAcC,ODxBFC,ECyBtBH,EDxBXI,MAAM,gEAAgBD,IAAU7B,GACtC+B,MAAKC,GAAoBA,EAASlB,UCwBhCiB,KAAKlB,GACLoB,MAAMtB,GACNuB,QAAQ1B,GD5BoB,IAASqB,C,KALtCM,QAAQC,KAAK,eACNN,MAAM,uCACZC,MAAKC,GAAYA,EAASlB,UCC1BiB,MAIH,SAAsBjB,GACpB,MAAMuB,EAAgBvB,EAAKwB,KAAIC,GAAS,kBAAkBA,EAAMC,OAAOD,EAAMpB,kBAAiBsB,KAAK,IACnGvC,EAASqB,UAAYc,EACrBnC,EAAS0B,MAAQ,GACjB1B,EAASO,UAAUG,OAAO,S,IAPzBqB,MAAMtB,GACNuB,QAAQ1B","sources":["src/js/cat-api.js","src/js/index.js"],"sourcesContent":["const BASE_URL = 'https://api.thecatapi.com/v1';\nconst API_KEY = 'live_tzTsyw7krgEZLBeoJMmi7g8WFICFdg0xoTjCAS3CjqcXEkmhgwSfsWDDoUqLh3OS';\nconst SEARCH_CAT = `${BASE_URL}/images/search?limit=1&breed_ids=`;\nconst searchOptions = { headers: { 'x-api-key': API_KEY },};\n\nexport const fetchBreeds = function() {\n  console.info('start fetch')\n  return fetch(`${BASE_URL}/breeds`)\n  .then(response => response.json())\n}\n\nexport const fetchCatByBreed = function(breedId) {\nreturn fetch(`${SEARCH_CAT}${breedId}`,searchOptions)\n.then(response => {return response.json()})\n}\n\n\n","import { fetchBreeds, fetchCatByBreed } from \"./cat-api\";\nconst selectEl = document.querySelector('select.breed-select');\nconst errorEl = document.querySelector('p.error');\nconst loadEl = document.querySelector('p.loader');\nconst catInfo = document.querySelector('div.cat-info');\n\nselectEl.addEventListener('input', onSelectorInput);\n\nfetchBreeds()\n  .then(renderSelect)\n  .catch(showError)\n  .finally(hideLoad);\n\nfunction renderSelect(json) {\n  const optionsMarkup = json.map(breed => `<option value=\"${breed.id}\">${breed.name}</option>`).join('');\n  selectEl.innerHTML = optionsMarkup;\n  selectEl.value = '';\n  selectEl.classList.remove('hidden');\n}\n\nfunction hideLoad() {\n  loadEl.classList.add('hidden');\n}\n\nfunction showError() {\n  errorEl.classList.remove('hidden');\n}\n\nfunction showLoad() {\n  loadEl.classList.remove('hidden');\n  errorEl.classList.add('hidden');\n}\n\nfunction onSelectorInput(event) {\n  showLoad();\n  const chosenBreed = event.currentTarget.value;\n  fetchCatByBreed(chosenBreed)\n  .then(renderCatCard)\n  .catch(showError)\n  .finally(hideLoad)\n}\n\nfunction renderCatCard(json) {\n  const breedInfo = json[0].breeds[0];\n  const img = {\n      url: json[0].url,\n      alt: breedInfo.name,\n  }\n  \n  const markup = \n  `\n  <h2 class=\"header\">${breedInfo.name}</h2>\n  <div class=\"card\">\n  <img src=\"${img.url}\" alt=\"Cat breed ${img.alt}\" class=\"image\">\n  <div class=\"description\">\n  <p class=\"text\">${breedInfo.description}</p>\n  <p class=\"text\"><b>Temperament:</b> ${breedInfo.temperament}</p>\n  </div>\n  </div>\n  `\n  catInfo.innerHTML = markup;\n}"],"names":["$c4ebbd28ee7007ee$var$searchOptions","headers","$85a5f86b715fe7db$var$selectEl","document","querySelector","$85a5f86b715fe7db$var$errorEl","$85a5f86b715fe7db$var$loadEl","$85a5f86b715fe7db$var$catInfo","$85a5f86b715fe7db$var$hideLoad","classList","add","$85a5f86b715fe7db$var$showError","remove","$85a5f86b715fe7db$var$renderCatCard","json","breedInfo","breeds","img","url","name","markup","description","temperament","innerHTML","addEventListener","event","chosenBreed","currentTarget","value","breedId","fetch","then","response","catch","finally","console","info","optionsMarkup","map","breed","id","join"],"version":3,"file":"index.a478f69e.js.map"}