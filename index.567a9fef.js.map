{"mappings":"YAAA,IAAMA,EAAW,+BAEXC,EAAa,GAAYC,OAATF,EAAS,qCACzBG,EAAgB,CAAEC,QAAS,CAAE,YAFnB,0ECAVC,EAAWC,SAASC,cAAc,uBAClCC,EAAUF,SAASC,cAAc,WACjCE,EAASH,SAASC,cAAc,YAChCG,EAAUJ,SAASC,cAAc,gBAgBvC,SAASI,IACPF,EAAOG,UAAUC,IAAI,S,CAGvB,SAASC,IACPN,EAAQI,UAAUG,OAAO,S,CAiB3B,SAASC,EAAcC,GACrB,IAAMC,EAAYD,EAAK,GAAGE,OAAO,GAC3BC,EAAM,CACRC,IAAKJ,EAAK,GAAGI,IACbC,IAAKJ,EAAUK,MAGbC,EACN,0BAGYtB,OAFSgB,EAAUK,KAAK,6CAEGrB,OAA3BkB,EAAIC,IAAI,qBAEFnB,OAFqBkB,EAAIE,IAAI,qEAGTpB,OADpBgB,EAAUO,YAAY,gDACoBvB,OAAtBgB,EAAUQ,YAAY,gCAI5DhB,EAAQiB,UAAYH,C,CAtDtBnB,EAASuB,iBAAiB,SA2B1B,SAAyBC,GAJvBpB,EAAOG,UAAUG,OAAO,UACxBP,EAAQI,UAAUC,IAAI,UAKtB,IAAMiB,EAAcD,EAAME,cAAcC,ODxBFC,ECyBtBH,EDxBXI,MAAM,GAAgBhC,OAAbD,GAAqBC,OAAR+B,GAAU9B,GACtCgC,MAAK,SAAAC,GAAa,OAAOA,EAASnB,M,KCwBhCkB,KAAKnB,GACLqB,MAAMvB,GACNwB,QAAQ3B,GD5BoB,IAASsB,C,KALtCM,QAAQC,KAAK,eACNN,MAAM,GAAYhC,OAATF,EAAS,YACxBmC,MAAK,SAAAC,G,OAAYA,EAASnB,M,KCC1BkB,MAIH,SAAsBlB,GACpB,IAAMwB,EAAgBxB,EAAKyB,KAAI,SAAAC,G,MAAS,kBAA+BzC,OAAbyC,EAAMC,GAAG,MAAe1C,OAAXyC,EAAMpB,KAAK,Y,IAAYsB,KAAK,IACnGxC,EAASsB,UAAYc,EACrBpC,EAAS2B,MAAQ,GACjB3B,EAASO,UAAUG,OAAO,S,IAPzBsB,MAAMvB,GACNwB,QAAQ3B,E","sources":["src/js/cat-api.js","src/js/index.js"],"sourcesContent":["const BASE_URL = 'https://api.thecatapi.com/v1';\nconst API_KEY = 'live_tzTsyw7krgEZLBeoJMmi7g8WFICFdg0xoTjCAS3CjqcXEkmhgwSfsWDDoUqLh3OS';\nconst SEARCH_CAT = `${BASE_URL}/images/search?limit=1&breed_ids=`;\nconst searchOptions = { headers: { 'x-api-key': API_KEY },};\n\nexport const fetchBreeds = function() {\n  console.info('start fetch')\n  return fetch(`${BASE_URL}/breeds`)\n  .then(response => response.json())\n}\n\nexport const fetchCatByBreed = function(breedId) {\nreturn fetch(`${SEARCH_CAT}${breedId}`,searchOptions)\n.then(response => {return response.json()})\n}\n\n\n","import { fetchBreeds, fetchCatByBreed } from \"./cat-api\";\nconst selectEl = document.querySelector('select.breed-select');\nconst errorEl = document.querySelector('p.error');\nconst loadEl = document.querySelector('p.loader');\nconst catInfo = document.querySelector('div.cat-info');\n\nselectEl.addEventListener('input', onSelectorInput);\n\nfetchBreeds()\n  .then(renderSelect)\n  .catch(showError)\n  .finally(hideLoad);\n\nfunction renderSelect(json) {\n  const optionsMarkup = json.map(breed => `<option value=\"${breed.id}\">${breed.name}</option>`).join('');\n  selectEl.innerHTML = optionsMarkup;\n  selectEl.value = '';\n  selectEl.classList.remove('hidden');\n}\n\nfunction hideLoad() {\n  loadEl.classList.add('hidden');\n}\n\nfunction showError() {\n  errorEl.classList.remove('hidden');\n}\n\nfunction showLoad() {\n  loadEl.classList.remove('hidden');\n  errorEl.classList.add('hidden');\n}\n\nfunction onSelectorInput(event) {\n  showLoad();\n  const chosenBreed = event.currentTarget.value;\n  fetchCatByBreed(chosenBreed)\n  .then(renderCatCard)\n  .catch(showError)\n  .finally(hideLoad)\n}\n\nfunction renderCatCard(json) {\n  const breedInfo = json[0].breeds[0];\n  const img = {\n      url: json[0].url,\n      alt: breedInfo.name,\n  }\n  \n  const markup = \n  `\n  <h2 class=\"header\">${breedInfo.name}</h2>\n  <div class=\"card\">\n  <img src=\"${img.url}\" alt=\"Cat breed ${img.alt}\" class=\"image\">\n  <div class=\"description\">\n  <p class=\"text\">${breedInfo.description}</p>\n  <p class=\"text\"><b>Temperament:</b> ${breedInfo.temperament}</p>\n  </div>\n  </div>\n  `\n  catInfo.innerHTML = markup;\n}"],"names":["$8994e83c1b13b9e2$var$BASE_URL","$8994e83c1b13b9e2$var$SEARCH_CAT","concat","$8994e83c1b13b9e2$var$searchOptions","headers","$44ae6d9db4eaca0f$var$selectEl","document","querySelector","$44ae6d9db4eaca0f$var$errorEl","$44ae6d9db4eaca0f$var$loadEl","$44ae6d9db4eaca0f$var$catInfo","$44ae6d9db4eaca0f$var$hideLoad","classList","add","$44ae6d9db4eaca0f$var$showError","remove","$44ae6d9db4eaca0f$var$renderCatCard","json","breedInfo","breeds","img","url","alt","name","markup","description","temperament","innerHTML","addEventListener","event","chosenBreed","currentTarget","value","breedId","fetch","then","response","catch","finally","console","info","optionsMarkup","map","breed","id","join"],"version":3,"file":"index.567a9fef.js.map"}